import{a as j}from"./chunk-AYWDYQZ4.js";import{a as J,b as K}from"./chunk-LF24OHCE.js";import{$,Ga as w,Ha as y,Ka as B,La as Y,Ma as O,Na as T,Oa as D,Pa as q,Y as W,b,d,f as S,g as M,k as _,ka as P,la as I,n as F,na as L,o as R,r as x,s as k,t as N}from"./chunk-BBFARDL2.js";import{f as V,g as v,h,j as E,k as U}from"./chunk-WKIJ7LZP.js";import"./chunk-6XXA7HXI.js";import{Db as C,Qb as o,Sa as l,Yb as f,a as z,ca as c,ea as u,hb as p,lb as g,qb as s,ub as t,vb as e,wb as m}from"./chunk-Z2UMMSTU.js";var H=class n{static \u0275fac=function(a){return new(a||n)};static \u0275cmp=u({type:n,selectors:[["app-auth-layout"]],standalone:!0,features:[f],decls:4,vars:0,consts:[[1,"container","mt-4"]],template:function(a,i){a&1&&(m(0,"app-navbar-home"),t(1,"div",0),m(2,"router-outlet"),e(),m(3,"app-footer"))},dependencies:[j,U,V]})};function ie(n,r){n&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ne(n,r){n&1&&(t(0,"mat-error"),o(1,"Introduzca un correo v\xE1lido"),e())}function ae(n,r){n&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function me(n,r){n&1&&(t(0,"mat-error"),o(1,"La contrase\xF1a debe tener al menos 6 caracteres"),e())}var A=class n{loginForm;fb=c(x);snackBar=c(D);router=c(v);authService=c(E);constructor(){this.loginForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}controlHasError(r,a){return this.loginForm.controls[r].hasError(a)}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"})}onSubmit(){if(this.loginForm.valid){let a=this.loginForm.value,i=this.authService.login(a);if(i){var r="";i.role==="WRITER"?r="ESCRITOR":i.role==="READER"&&(r="LECTOR"),this.showSnackBar(`Bienvenido, ${i.firstName}, te has logueado como ${r}`),i.role==="WRITER"?this.router.navigate(["/writer/homepage"]):i.role==="READER"&&this.router.navigate(["/reader/homepage"])}else this.showSnackBar("Correo o contrase\xF1a incorrectos.")}}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=u({type:n,selectors:[["app-login"]],standalone:!0,features:[f],decls:42,vars:6,consts:[[1,"container"],[1,"login-header"],[1,"login-subtext"],[1,"row",2,"height","100vh"],[1,"col-md-6"],[1,"logo-container"],[1,"blogal-logo-container"],["src","assets/logo.png","alt","Blogal Logo","width","50","height","50"],[1,"login-container"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["appearance","outline",1,"form-input"],["matInput","","formControlName","email","placeholder","Introduce tu email"],[1,"form-group","mt-3"],["matInput","","type","password","formControlName","password","placeholder","Introduce tu contrase\xF1a"],["mat-flat-button","","type","submit",3,"disabled"],[1,"col-md-6","imagen"],[1,"align-items-center"],["src","assets/reg_1.jpg","alt","Imagen de inicio de sesi\xF3n",1,"img-fluid","d-none","d-md-block"],[1,"register-link"],["routerLink","/auth/register"]],template:function(a,i){a&1&&(t(0,"div",0),m(1,"br"),t(2,"h2",1),o(3,"Bienvenido"),e(),t(4,"p",2),o(5,"Por favor, inicia sesi\xF3n para continuar"),e(),t(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),m(10,"img",7),o(11,"Blogal "),e()(),t(12,"div",8)(13,"form",9),C("ngSubmit",function(){return i.onSubmit()}),t(14,"div",10)(15,"mat-form-field",11)(16,"mat-label"),o(17,"Correo Electr\xF3nico"),e(),m(18,"input",12),p(19,ie,2,0,"mat-error")(20,ne,2,0,"mat-error"),e()(),t(21,"div",13)(22,"mat-form-field",11)(23,"mat-label"),o(24,"Contrase\xF1a"),e(),m(25,"input",14),p(26,ae,2,0,"mat-error")(27,me,2,0,"mat-error"),e()(),t(28,"button",15),o(29,"Iniciar Sesi\xF3n"),e()()()(),t(30,"div",16)(31,"div",17),m(32,"img",18),e()()(),t(33,"p",19),o(34,"\xBFNo tienes cuenta? "),t(35,"a",20),o(36,"Reg\xEDstrate aqu\xED"),e()(),m(37,"br")(38,"br")(39,"br")(40,"br")(41,"br"),e()),a&2&&(l(13),g("formGroup",i.loginForm),l(6),s(i.controlHasError("email","required")?19:-1),l(),s(i.controlHasError("email","email")?20:-1),l(6),s(i.controlHasError("password","required")?26:-1),l(),s(i.controlHasError("password","minlength")?27:-1),l(),g("disabled",i.loginForm.invalid))},dependencies:[k,_,b,S,M,N,F,R,L,I,T,O,B,w,y,P,q,h],styles:[".register-link[_ngcontent-%COMP%]{text-align:center;margin-top:5%;font-size:.9rem;color:#555}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;font-weight:700;transition:color .3s ease}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.imagen[_ngcontent-%COMP%]{background-color:#6fa5f6;margin:0 0 2px}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5%}.imagen[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:20px}.logo-container[_ngcontent-%COMP%]{margin:50px 0;display:inline-block;background-color:#6fa5f6;padding:1% 5%;border-radius:5%}"]})};function le(n,r){n&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function se(n,r){n&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function de(n,r){n&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ce(n,r){n&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function pe(n,r){n&1&&(t(0,"mat-error"),o(1,"Introduzca un correo v\xE1lido"),e())}function ue(n,r){n&1&&(t(0,"mat-error"),o(1,"Este campo es obligatorio"),e())}function ge(n,r){n&1&&(t(0,"mat-error"),o(1,"La contrase\xF1a debe tener al menos 6 caracteres"),e())}var G=class n{registerForm;fb=c(x);snackBar=c(D);router=c(v);authService=c(E);constructor(){this.registerForm=this.fb.group({role:["",[d.required]],firstName:["",[d.required]],lastName:["",[d.required]],email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}controlHasError(r,a){return this.registerForm.controls[r].hasError(a)}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"top"})}onSubmit(){if(this.registerForm.valid){let a=z({id:0},this.registerForm.value),i=this.authService.register(a);if(i){var r="";i.role==="WRITER"?r="ESCRITOR":i.role==="READER"&&(r="LECTOR"),this.showSnackBar(`Registro exitoso, bienvenido ${i.firstName}, te has registrado como ${r}`),this.router.navigate(["/auth/login"])}else this.showSnackBar("Error al registrar el usuario")}}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=u({type:n,selectors:[["app-register"]],standalone:!0,features:[f],decls:65,vars:9,consts:[[1,"container"],[1,"login-header"],[1,"login-subtext"],[1,"row",2,"height","100vh"],[1,"col-md-6"],[1,"logo-container"],[1,"blogal-logo-container"],["src","assets/logo.png","alt","Blogal Logo","width","50","height","50"],[1,"login-container"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["appearance","outline",1,"form-input"],["formControlName","role"],["value","READER"],["value","WRITER"],["matInput","","formControlName","firstName","placeholder","Introduce tu nombre"],[1,"form-group","mt-3"],["matInput","","formControlName","lastName","placeholder","Introduce tu apellido"],["matInput","","formControlName","email","placeholder","Introduce tu email"],["matInput","","type","password","formControlName","password","placeholder","Introduce tu contrase\xF1a"],["mat-raised-button","","type","submit",1,"btn","btn-primary","mt-4","w-50",3,"disabled"],[1,"imagen","align-items-center"],["src","assets/register_1.jpg","alt","Imagen de Registro",1,"img-fluid","d-none","d-md-block"],[1,"register-link"],["routerLink","/auth/login"]],template:function(a,i){a&1&&(t(0,"div",0),m(1,"br"),t(2,"h2",1),o(3,"Para comenzar en Blogal debes Registrarte"),e(),t(4,"p",2),o(5,"Por favor, ingresa tus datos para continuar"),e(),t(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6),m(10,"img",7),o(11,"Blogal "),e()(),t(12,"div",8)(13,"form",9),C("ngSubmit",function(){return i.onSubmit()}),t(14,"div",10)(15,"mat-form-field",11)(16,"mat-label"),o(17,"Rol"),e(),t(18,"mat-select",12)(19,"mat-option",13),o(20,"Lector"),e(),t(21,"mat-option",14),o(22,"Escritor"),e()(),p(23,le,2,0,"mat-error"),e()(),t(24,"div",10)(25,"mat-form-field",11)(26,"mat-label"),o(27,"Nombre"),e(),m(28,"input",15),p(29,se,2,0,"mat-error"),e()(),t(30,"div",16)(31,"mat-form-field",11)(32,"mat-label"),o(33,"Apellido"),e(),m(34,"input",17),p(35,de,2,0,"mat-error"),e()(),t(36,"div",16)(37,"mat-form-field",11)(38,"mat-label"),o(39,"Correo Electr\xF3nico"),e(),m(40,"input",18),p(41,ce,2,0,"mat-error")(42,pe,2,0,"mat-error"),e()(),t(43,"div",16)(44,"mat-form-field",11)(45,"mat-label"),o(46,"Contrase\xF1a"),e(),m(47,"input",19),p(48,ue,2,0,"mat-error")(49,ge,2,0,"mat-error"),e()(),t(50,"button",20),o(51,"Registrarse"),e()()()(),t(52,"div",4),m(53,"br"),t(54,"div",21),m(55,"img",22),e()(),t(56,"p",23),o(57,"\xBFYa tienes una cuenta? "),t(58,"a",24),o(59,"Inicia sesi\xF3n aqu\xED"),e()()(),m(60,"br")(61,"br")(62,"br")(63,"br")(64,"br"),e()),a&2&&(l(13),g("formGroup",i.registerForm),l(10),s(i.controlHasError("role","required")?23:-1),l(6),s(i.controlHasError("firstName","required")?29:-1),l(6),s(i.controlHasError("lastName","required")?35:-1),l(6),s(i.controlHasError("email","required")?41:-1),l(),s(i.controlHasError("email","email")?42:-1),l(6),s(i.controlHasError("password","required")?48:-1),l(),s(i.controlHasError("password","minlength")?49:-1),l(),g("disabled",i.registerForm.invalid))},dependencies:[k,_,b,S,M,N,F,R,L,I,T,O,B,w,y,P,q,h,$,W,Y,K,J],styles:[".register-link[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#555}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;font-weight:700;transition:color .3s ease}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.imagen[_ngcontent-%COMP%]{background-color:#6fa5f6;padding:5%;max-width:100%;border-radius:5%}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5%}.imagen[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:20px;padding:10%}.logo-container[_ngcontent-%COMP%]{margin:50px 0;display:inline-block;background-color:#6fa5f6;padding:1% 5%;border-radius:5%}"]})};var Qe=[{path:"",component:H,children:[{path:"login",component:A},{path:"register",component:G}]}];export{Qe as authRoutes};
